mtk-cps-panel {

    > .draghandle {
        cursor: ns-resize;
    }

    /* used as drag indicator */
    indicator {
        display: block;
        max-width: 250px;
        position: relative;
        outline: 1px solid grey;
        z-index: 10;
    }

    mtk-cps-collection.root,
    mtk-cps-style-dict-container {
        display: block;
        flex-grow: 1;
        flex-shrink: 1;
    }


    mtk-cps-style {
        display: block;
        background: red;
    }

    mtk-cps-rule {
        display: block;
    }


    mtk-cps-property-dict::before {
        content: '{';
        vertical-align: bottom;

    }
    mtk-cps-property-dict::after {
        content: '}';
        display: block;
    }

    mtk-cps-new-selector-list > div {
        display: inline-block;
        text-align: center;
    }

    mtk-cps-new-rule mtk-cps-new-selector-list::after {
        content: '{}';
    }

    mtk-cps-property-dict {
        display: inline;
        ol {
            /*important, that we can detect double clicks when the list is
             empty. Double click is used to add a new-property interface.
             */
            min-height: .5em;
            display: block;
            list-style: none;
            padding: 0;
            margin: 0;
            font-family: monospace;
            font-size: .9em;
            li {
                padding-left: 1em;
            }
        }
    }

    mtk-cps-comment {
        display: inline-block;
        color: darkslategray;
        vertical-align: top;
        span {
            display: inline-block;
        }
        span.format-standard {
            white-space: pre;
            font-family: monospace;
        }
        span.format-standard::before{
            content: '/*';
        }
        span.format-standard::after{
            content: '*/';
        }

        span.format-markdown {
            font-family: sans-serif;
        }
    }

    @line-height: 1.2em;
    mtk-cps-property, mtk-cps-new-property, mtk-cps-selector-list,
    mtk-cps-comment, mtk-cps-import-collection, mtk-cps-new-item {
        line-height: @line-height; /* this is also hardcoded in the template of the textarea! */
        display: inline-block;
        border-bottom: 2px solid transparent;

        .input, .display {
            vertical-align: top;
            border: none;
            padding: 0;
            font-family: inherit;
            font-size: inherit;
            line-height: inherit;
        }

        .display {
            background: white;
        }

        .input {
            background: lightyellow;
            resize: none;
        }

        .property-name {
            color: midnightblue;
        }
        .property-value {
            color: darkgreen;
        }

        .selectorlist {
            color: maroon;
        }
        .display.selectorlist {
            min-width: 3em; /* need space to click for a new selectorlist */
        }
        .display.property-value,
        .display.selectorlist {
            display: inline-block;
            white-space: pre;
        }

        > div {
            display: inline-block;
            position: relative;
        }
        .invalid {
        }
        .invalid:after {
            content: "\26A0  invalid property \26A0";
            font-family: sans-serif;
            color: red;
            white-space: nowrap;
            cursor: help;
        }
    }

    /**
     * These properties are defined but more specific properties are used
     */
    mtk-cps-property.shadowed {
        span.property-name,
        span.property-value {
            color: gray;
            text-decoration: line-through;
        }
    }

    mtk-cps-new-item{
        display: block;
    }
    *.dragging {
        background: white;
        opacity: .5;;
        mtk-cps-toolbutton {
            display: none;
        }
    }
    mtk-cps-toolbar {
        position: relative;
    }
    mtk-cps-toolbar > * {
        position: absolute;
        position: absolute;
        top: 0;
        left: 0;
        white-space: nowrap;
    }

    mtk-cps-collection-li {
        background-color: rgba(100, 155, 50, 0.05);
        display: block;
        padding-left: 1em;
    }


    mtk-cps-namespace-collection,
    mtk-cps-new-namespace-collection {

        > mtk-cps-selector-list::before,
        > mtk-cps-new-selector-list::before{
            content: "@namespace (";
        }
        > mtk-cps-selector-list,
        > mtk-cps-new-selector-list {
            /*eliminates a pesky space between the element and the ::after*/
            display: inline-flex;
        }
        > mtk-cps-selector-list::after,
        > mtk-cps-new-selector-list::after {
            content: ") {";
        }
    }
    mtk-cps-namespace-collection::after ,
    mtk-cps-new-namespace-collection::after {
        content: "}";
    }
    mtk-cps-namespace-collection::after {
        display: block;
    }


    @tool-size: 1em;
    mtk-drag-handle,
    mtk-cps-toolbutton {
        display: inline-block;
        padding: 0;
        margin-right: .2em;
        border: none;
        background:none;
        overflow: hidden;

        width: @tool-size;
        height: @line-height;
        vertical-align: top;
        color: #ccc;
        cursor: default;
        font-family: sans-serif;
    }


    mtk-drag-handle::before,
    mtk-cps-toolbutton::before {
        display:block;
        width: 100%;
        height: 100%;
        overflow: visible;
    }
    mtk-drag-handle:hover,
    mtk-cps-toolbutton:hover {
        color: #000;
    }

    mtk-drag-handle::before {
        content: "\2B0D";
    }
    mtk-drag-handle {
        cursor: grab;
    }

    .tool-delete:hover,
    .tool-cancel:hover {
        color: #f00;
    }

    .tool-cancel::before,
    .tool-delete::before {
        content: "\2717";
    }
}
